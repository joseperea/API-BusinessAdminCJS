2022-09-18 13:51:30.161 -05:00  INF  Inicio de Aplicacíon
2022-09-18 13:51:31.059 -05:00  INF  User profile is available. Using 'C:\Users\jose.valencia\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-09-18 13:51:31.668 -05:00  INF  Now listening on: https://localhost:7029
2022-09-18 13:51:31.669 -05:00  INF  Now listening on: http://localhost:5029
2022-09-18 13:51:31.676 -05:00  INF  Application started. Press Ctrl+C to shut down.
2022-09-18 13:51:31.676 -05:00  INF  Hosting environment: Development
2022-09-18 13:51:31.676 -05:00  INF  Content root path: C:\Users\jose.valencia\Source\Repos\API-BusinessAdminCJS\API-BusinessAdminCJS\API-BusinessAdminCJS\
2022-09-18 13:51:33.806 -05:00  INF  Request starting HTTP/2 GET https://localhost:7029/swagger - -
2022-09-18 13:51:34.250 -05:00  INF  Request finished HTTP/2 GET https://localhost:7029/swagger - - - 301 0 - 460.2580ms
2022-09-18 13:51:34.354 -05:00  INF  Request starting HTTP/2 GET https://localhost:7029/swagger/index.html - -
2022-09-18 13:51:35.361 -05:00  INF  Request starting HTTP/2 GET https://localhost:7029/swagger/swagger-ui-bundle.js - -
2022-09-18 13:51:35.362 -05:00  INF  Request starting HTTP/2 GET https://localhost:7029/swagger/swagger-ui.css - -
2022-09-18 13:51:35.362 -05:00  INF  Request starting HTTP/2 GET https://localhost:7029/_framework/aspnetcore-browser-refresh.js - -
2022-09-18 13:51:35.362 -05:00  INF  Request starting HTTP/2 GET https://localhost:7029/_vs/browserLink - -
2022-09-18 13:51:35.364 -05:00  INF  Request finished HTTP/2 GET https://localhost:7029/swagger/index.html - - - 200 - text/html;charset=utf-8 1010.3120ms
2022-09-18 13:51:35.371 -05:00  INF  Request starting HTTP/2 GET https://localhost:7029/swagger/swagger-ui-standalone-preset.js - -
2022-09-18 13:51:35.405 -05:00  INF  Request finished HTTP/2 GET https://localhost:7029/_framework/aspnetcore-browser-refresh.js - - - 200 12010 application/javascript;+charset=utf-8 42.7393ms
2022-09-18 13:51:35.564 -05:00  INF  Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-09-18 13:51:35.564 -05:00  INF  Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-09-18 13:51:35.565 -05:00  INF  Request finished HTTP/2 GET https://localhost:7029/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 193.4314ms
2022-09-18 13:51:35.565 -05:00  INF  Request finished HTTP/2 GET https://localhost:7029/swagger/swagger-ui.css - - - 200 143632 text/css 203.2323ms
2022-09-18 13:51:35.689 -05:00  INF  Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-09-18 13:51:35.695 -05:00  INF  Request finished HTTP/2 GET https://localhost:7029/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 333.9333ms
2022-09-18 13:51:35.705 -05:00  INF  Request finished HTTP/2 GET https://localhost:7029/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 342.6107ms
2022-09-18 13:51:36.670 -05:00  INF  Request starting HTTP/2 GET https://localhost:7029/swagger/v1/swagger.json - -
2022-09-18 13:51:36.918 -05:00  INF  Request starting HTTP/2 GET https://localhost:7029/swagger/favicon-32x32.png - -
2022-09-18 13:51:36.919 -05:00  INF  Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-09-18 13:51:36.922 -05:00  INF  Request finished HTTP/2 GET https://localhost:7029/swagger/favicon-32x32.png - - - 200 628 image/png 4.0745ms
2022-09-18 13:51:37.177 -05:00  INF  Request finished HTTP/2 GET https://localhost:7029/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 506.5580ms
2022-09-18 14:03:22.112 -05:00  INF  Inicio de Aplicacíon
2022-09-18 14:03:23.225 -05:00  INF  Entity Framework Core 6.0.8 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-09-18 14:04:59.431 -05:00  INF  Inicio de Aplicacíon
2022-09-18 14:05:00.371 -05:00  INF  Entity Framework Core 6.0.8 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-09-18 14:08:28.624 -05:00  INF  Inicio de Aplicacíon
2022-09-18 14:08:29.525 -05:00  INF  Entity Framework Core 6.0.8 initialized 'DataContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-09-18 14:08:30.642 -05:00  INF  Executed DbCommand (660ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [BD-BusinessAdminCJS];
2022-09-18 14:08:30.822 -05:00  INF  Executed DbCommand (173ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [BD-BusinessAdminCJS] SET READ_COMMITTED_SNAPSHOT ON;
END;
2022-09-18 14:08:30.850 -05:00  INF  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-09-18 14:08:30.961 -05:00  INF  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2022-09-18 14:08:30.963 -05:00  INF  Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-09-18 14:08:30.981 -05:00  INF  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2022-09-18 14:08:30.986 -05:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2022-09-18 14:08:31.004 -05:00  INF  Applying migration '20220828175912_mt-1'.
2022-09-18 14:08:31.057 -05:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2022-09-18 14:08:31.059 -05:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [PrimerNombre] nvarchar(50) NOT NULL,
    [SegundoNombre] nvarchar(50) NOT NULL,
    [PrimerApeliido] nvarchar(50) NOT NULL,
    [SegundoApellido] nvarchar(50) NOT NULL,
    [Telefono] nvarchar(max) NOT NULL,
    [FechaNacimiento] datetime2 NOT NULL,
    [Documento] nvarchar(20) NOT NULL,
    [Direccion] nvarchar(200) NOT NULL,
    [ImageId] uniqueidentifier NOT NULL,
    [Estado] bit NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2022-09-18 14:08:31.062 -05:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2022-09-18 14:08:31.064 -05:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2022-09-18 14:08:31.067 -05:00  INF  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2022-09-18 14:08:31.070 -05:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2022-09-18 14:08:31.073 -05:00  INF  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2022-09-18 14:08:31.075 -05:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [TipoDocumento] (
    [Id] int NOT NULL IDENTITY,
    [Nombre] nvarchar(50) NOT NULL,
    [Descripcion] nvarchar(100) NOT NULL,
    [usuarioId] nvarchar(450) NULL,
    [Estado] bit NOT NULL,
    CONSTRAINT [PK_TipoDocumento] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_TipoDocumento_AspNetUsers_usuarioId] FOREIGN KEY ([usuarioId]) REFERENCES [AspNetUsers] ([Id])
);
2022-09-18 14:08:31.076 -05:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2022-09-18 14:08:31.077 -05:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2022-09-18 14:08:31.077 -05:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2022-09-18 14:08:31.078 -05:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2022-09-18 14:08:31.079 -05:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2022-09-18 14:08:31.080 -05:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2022-09-18 14:08:31.081 -05:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2022-09-18 14:08:31.081 -05:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_TipoDocumento_usuarioId] ON [TipoDocumento] ([usuarioId]);
2022-09-18 14:08:31.083 -05:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220828175912_mt-1', N'6.0.8');
2022-09-18 14:08:31.088 -05:00  INF  Applying migration '20220911140043_mt-2'.
2022-09-18 14:08:31.105 -05:00  INF  Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [TipoDocumento] DROP CONSTRAINT [FK_TipoDocumento_AspNetUsers_usuarioId];
2022-09-18 14:08:31.106 -05:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_TipoDocumento_usuarioId] ON [TipoDocumento];
2022-09-18 14:08:31.225 -05:00  INF  Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[TipoDocumento]') AND [c].[name] = N'usuarioId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [TipoDocumento] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [TipoDocumento] DROP COLUMN [usuarioId];
2022-09-18 14:08:31.227 -05:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD [IdTipoDocumento] int NOT NULL DEFAULT 0;
2022-09-18 14:08:31.230 -05:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUsers_IdTipoDocumento] ON [AspNetUsers] ([IdTipoDocumento]);
2022-09-18 14:08:31.232 -05:00  INF  Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD CONSTRAINT [FK_AspNetUsers_TipoDocumento_IdTipoDocumento] FOREIGN KEY ([IdTipoDocumento]) REFERENCES [TipoDocumento] ([Id]) ON DELETE CASCADE;
2022-09-18 14:08:31.233 -05:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220911140043_mt-2', N'6.0.8');
2022-09-18 14:08:31.235 -05:00  INF  Applying migration '20220911143338_mt-3'.
2022-09-18 14:08:31.320 -05:00  INF  Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Descripcion', N'Estado', N'Nombre') AND [object_id] = OBJECT_ID(N'[TipoDocumento]'))
    SET IDENTITY_INSERT [TipoDocumento] ON;
INSERT INTO [TipoDocumento] ([Id], [Descripcion], [Estado], [Nombre])
VALUES (1, N'Cédula de ciudadanía', CAST(1 AS bit), N'C.C'),
(2, N'Tarjeta de identidad', CAST(1 AS bit), N'T.I'),
(3, N'Cédula de extranjería', CAST(1 AS bit), N'C.E'),
(4, N'Tarjeta de extranjería', CAST(1 AS bit), N'T.E');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Descripcion', N'Estado', N'Nombre') AND [object_id] = OBJECT_ID(N'[TipoDocumento]'))
    SET IDENTITY_INSERT [TipoDocumento] OFF;
2022-09-18 14:08:31.321 -05:00  INF  Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220911143338_mt-3', N'6.0.8');
